{"version":3,"sources":["components/Login/Login.module.css","components/UI/Input/Input.module.css","components/UI/Card/Card.module.css","components/UI/Button/Button.module.css","components/Home/Home.module.css","components/MainHeader/Navigation.module.css","components/MainHeader/MainHeader.module.css","components/UI/Card/Card.js","components/UI/Button/Button.js","components/UI/Input/Input.js","components/Login/Login.js","components/Home/Home.js","store/auth-context.js","components/MainHeader/Navigation.js","components/MainHeader/MainHeader.js","App.js","index.js"],"names":["module","exports","Card","props","className","classes","card","children","Button","type","button","onClick","disabled","Input","React","forwardRef","ref","inputRef","useRef","active","current","focus","useImperativeHandle","control","isValid","invalid","htmlFor","id","label","value","onChange","onBlur","emailReducer","prevState","action","includes","Login","useState","enteredPassword","setEnteredPassword","passwordIsValid","setPasswordIsValid","formIsValid","setFormIsValid","useReducer","emailState","dispatchEmail","useEffect","identifier","setTimeout","console","log","trim","length","clearTimeout","emailRef","passwordRef","login","onSubmit","event","preventDefault","onLogin","target","e","actions","btn","Home","home","AuthContext","createContext","isLoggedIn","logoutHandler","Navigation","ctx","useContext","nav","href","MainHeader","App","setIsLoggedIn","localStorage","getItem","setItem","Provider","email","password","onLogout","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.6ed72473.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__1ctH3\",\"actions\":\"Login_actions__Z0EHc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"Input_control__cC33E\",\"invalid\":\"Input_invalid__g8A9p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__nKuQ_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2hHwL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__2CgKc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav___4cgZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-header\":\"MainHeader_main-header__2yemj\"};","import React from 'react';\n\nimport classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <div className={`${classes.card} ${props.className}`}>{props.children}</div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport classes from './Button.module.css';\n\nconst Button = (props) => {\n  return (\n    <button\n      type={props.type || 'button'}\n      className={`${classes.button} ${props.className}`}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useImperativeHandle, useRef } from \"react\";\r\nimport classes from \"./Input.module.css\";\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n  const inputRef = useRef();\r\n\r\n  const active = () => {\r\n    inputRef.current.focus();\r\n  };\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      active,\r\n    };\r\n  });\r\n  return (\r\n    <div\r\n      className={`${classes.control} ${\r\n        props.isValid === false ? classes.invalid : \"\"\r\n      }`}\r\n    >\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      <input\r\n        ref={inputRef}\r\n        type={props.type}\r\n        id={props.id}\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n        onBlur={props.onBlur}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;\r\n","import React, { useEffect, useReducer, useRef, useState } from \"react\";\n\nimport Card from \"../UI/Card/Card\";\nimport classes from \"./Login.module.css\";\nimport Button from \"../UI/Button/Button\";\nimport Input from \"../UI/Input/Input\";\n\nconst emailReducer = (prevState, action) => {\n  if (action.type === \"INPUT_VALUE\") {\n    return { value: action.value, isValid: prevState.isValid };\n  }\n  if (action.type === \"BLUR_INPUT\") {\n    return { value: prevState.value, isValid: action.value.includes(\"@\") };\n  }\n  return { value: \"\", isValid: false };\n};\n\nconst Login = (props) => {\n  // const [enteredEmail, setEnteredEmail] = useState(\"\");\n  // const [emailIsValid, setEmailIsValid] = useState();\n  const [enteredPassword, setEnteredPassword] = useState(\"\");\n  const [passwordIsValid, setPasswordIsValid] = useState();\n  const [formIsValid, setFormIsValid] = useState(false);\n\n  // Use Reducer\n  const [emailState, dispatchEmail] = useReducer(emailReducer, {\n    value: \"\",\n    isValid: null,\n  });\n\n  useEffect(() => {\n    const identifier = setTimeout(() => {\n      console.log(\"checking\");\n      setFormIsValid(emailState.isValid && enteredPassword.trim().length > 6);\n    }, 200);\n    return () => {\n      console.log(\"clear\");\n      clearTimeout(identifier);\n    };\n  }, [emailState.value, enteredPassword]);\n\n  const emailChangeHandler = (event) => {\n    // setEnteredEmail(event.target.value);\n    dispatchEmail({\n      type: \"INPUT_VALUE\",\n      value: event.target.value,\n    });\n  };\n  const passwordChangeHandler = (event) => {\n    setEnteredPassword(event.target.value);\n  };\n\n  const validateEmailHandler = (e) => {\n    // setEmailIsValid(enteredEmail.includes(\"@\"));\n    dispatchEmail({\n      type: \"BLUR_INPUT\",\n      value: e.target.value,\n    });\n  };\n\n  const validatePasswordHandler = () => {\n    setPasswordIsValid(enteredPassword.trim().length > 6);\n  };\n\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    if (formIsValid) {\n      props.onLogin(emailState.value, enteredPassword);\n    } else if (!emailState.isValid) {\n      emailRef.current.active();\n    } else {\n      passwordRef.current.active();\n    }\n  };\n\n  return (\n    <Card className={classes.login}>\n      <form onSubmit={submitHandler}>\n        <Input\n          ref={emailRef}\n          isValid={emailState.isValid}\n          id=\"email\"\n          type=\"email\"\n          label=\"E-Mail\"\n          value={emailState.value}\n          onChange={emailChangeHandler}\n          onBlur={validateEmailHandler}\n        />\n        <Input\n          ref={passwordRef}\n          isValid={passwordIsValid}\n          id=\"password\"\n          type=\"password\"\n          label=\"Password\"\n          value={enteredPassword}\n          onChange={passwordChangeHandler}\n          onBlur={validatePasswordHandler}\n        />\n        <div className={classes.actions}>\n          <Button type=\"submit\" className={classes.btn}>\n            Login\n          </Button>\n        </div>\n      </form>\n    </Card>\n  );\n};\n\nexport default Login;\n","import React from 'react';\n\nimport Card from '../UI/Card/Card';\nimport classes from './Home.module.css';\n\nconst Home = (props) => {\n  return (\n    <Card className={classes.home}>\n      <h1>Welcome back!</h1>\n    </Card>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\r\n\r\nconst AuthContext = React.createContext({\r\n  isLoggedIn: false,\r\n  logoutHandler: () => {},\r\n});\r\n\r\nexport default AuthContext;\r\n","import React, { useContext } from \"react\";\nimport AuthContext from \"../../store/auth-context\";\n\nimport classes from \"./Navigation.module.css\";\n\nconst Navigation = (props) => {\n  const ctx = useContext(AuthContext);\n  return (\n    <nav className={classes.nav}>\n      <ul>\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Users</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Admin</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <button onClick={ctx.logoutHandler}>Logout</button>\n          </li>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import React from \"react\";\n\nimport Navigation from \"./Navigation\";\nimport classes from \"./MainHeader.module.css\";\n\nconst MainHeader = (props) => {\n  return (\n    <header className={classes[\"main-header\"]}>\n      <h1>A Typical Page</h1>\n      <Navigation />\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import React, { useState, useEffect } from \"react\";\n\nimport Login from \"./components/Login/Login\";\nimport Home from \"./components/Home/Home\";\nimport MainHeader from \"./components/MainHeader/MainHeader\";\nimport AuthContext from \"./store/auth-context\";\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"loggedIn\") === \"1\") {\n      setIsLoggedIn(true);\n    }\n  }, []);\n\n  const loginHandler = (email, password) => {\n    // We should of course check email and password\n    // But it's just a dummy/ demo anyways\n    setIsLoggedIn(true);\n    localStorage.setItem(\"loggedIn\", \"1\");\n  };\n\n  const logoutHandler = () => {\n    setIsLoggedIn(false);\n    localStorage.setItem(\"loggedIn\", \"0\");\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isLoggedIn,\n        logoutHandler,\n      }}\n    >\n      <MainHeader />\n      <main>\n        {!isLoggedIn && <Login onLogin={loginHandler} />}\n        {isLoggedIn && <Home onLogout={logoutHandler} />}\n      </main>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<App />);\n"],"sourceRoot":""}